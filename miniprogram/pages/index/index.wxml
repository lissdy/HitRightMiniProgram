<view class="container">
  <view class="title">HitRight</view>

  <button type="primary" bindtap="recordVideo">
    开始拍准
  </button>

  <video
    wx:if="{{videoUrl}}"
    src="{{videoUrl}}"
    controls
    class="video"
  ></video>

  <button
    wx:if="{{videoUrl && !loading}}"
    bindtap="uploadVideo"
  >
    上传分析
  </button>

  <view wx:if="{{loading}}" class="loading">
    AI 分析中...
  </view>

  <view wx:if="{{result}}" class="result">
    <video
      src="https://hitright.azurewebsites.net/{{result.videoUrl}}"
      controls
      autoplay
      style="width: 100%;"
    />

    <view>建议：{{result.analysis.basic_quality}}</view>
  </view>
</view>
